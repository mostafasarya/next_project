'use client';

import React, { useState, useEffect } from 'react';

// Language mapping for native script to English names
export const languageMapping: { [key: string]: string } = {
  'English': 'English',
  'العربية': 'Arabic',
  'Español': 'Spanish',
  'Français': 'French',
  'Deutsch': 'German',
  'Português': 'Portuguese',
  'Türkçe': 'Turkish',
  'हिन्दी': 'Hindi',
  'Italiano': 'Italian',
  'Русский': 'Russian',
  '日本語': 'Japanese',
  '中文': 'Chinese',
  '한국어': 'Korean'
};

// Centralized translation dictionary
export const translations = {
  'English': {
    'welcome_title': 'Welcome to Your Store',
    'subscribe_title': 'Subscribe to our newsletter',
    'subscribe_subtitle': 'Get the latest updates and exclusive offers',
    'email_placeholder': 'Enter your email address',
    'subscribe_btn': 'Subscribe',
    'select_language': 'Select Language',
    'store_languages': 'Store Languages',
    'language_description': 'Choose the languages your store will display. Customers can switch between these languages using the language icon in the store bar.',
    'save_languages': 'Save Languages',
    'cancel': 'Cancel',
    'close': 'Close',
    'update': 'Update',
    'logo_settings': 'Logo Settings',
    'store_pages': 'Store Pages',
    'home': 'Home',
    'product_page': 'Product Page',
    'collections': 'Collections',
    'catalog': 'Catalog',
    'cart_page': 'Cart Page',
    'shipping_pay': 'Shipping & Payment',
    'general_pages': 'General Pages',
    'collection_page': 'Collection Page',
    'product_page_detail': 'Product Page Detail',
    'catalog_page': 'Catalog Page',
    'language': 'Language',
    'logout': 'Logout',
    'free_shipping': 'Free Shipping',
    'free_shipping_description': 'Free shipping on orders over $50',
    'about': 'About',
    'our_story': 'Our Story',
    'press_media': 'Press & Media',
    'careers': 'Careers',
    'sustainability': 'Sustainability',
    'social_giveback': 'Social Giveback',
    'resources': 'Resources',
    'blog': 'Blog',
    'dapper_scouts': 'Dapper Scouts',
    'garment_care': 'Garment Care',
    'fit_size_guide': 'Fit & Size Guide',
    'support': 'Support',
    'help_center': 'Help Center',
    'contact_us': 'Contact Us',
    'shipping_returns': 'Shipping & Returns',
    'start_return_exchange': 'Start A Return or Exchange',
    'add_product': 'Product',
    'add_collection': 'Collection',
    'create_catalog': 'Catalog',
    'create_page': 'G. Page',
    'mobile': 'Mobile',
    'publish': 'Publish'
  },
  'Arabic': {
    'welcome_title': 'مرحباً بك في متجرك',
    'subscribe_title': 'اشترك في نشرتنا الإخبارية',
    'subscribe_subtitle': 'احصل على آخر التحديثات والعروض الحصرية',
    'email_placeholder': 'أدخل عنوان بريدك الإلكتروني',
    'subscribe_btn': 'اشتراك',
    'select_language': 'اختر اللغة',
    'store_languages': 'لغات المتجر',
    'language_description': 'اختر اللغات التي سيعرضها متجرك. يمكن للعملاء التبديل بين هذه اللغات باستخدام أيقونة اللغة في شريط المتجر.',
    'save_languages': 'حفظ اللغات',
    'cancel': 'إلغاء',
    'close': 'إغلاق',
    'update': 'تحديث',
    'logo_settings': 'إعدادات الشعار',
    'store_pages': 'صفحات المتجر',
    'home': 'الرئيسية',
    'product_page': 'صفحة المنتج',
    'collections': 'المجموعات',
    'catalog': 'الفهرس',
    'cart_page': 'صفحة السلة',
    'shipping_pay': 'الشحن والدفع',
    'general_pages': 'الصفحات العامة',
    'collection_page': 'صفحة المجموعة',
    'product_page_detail': 'تفاصيل صفحة المنتج',
    'catalog_page': 'صفحة الفهرس',
    'language': 'اللغة',
    'logout': 'تسجيل الخروج',
    'free_shipping': 'شحن مجاني',
    'free_shipping_description': 'شحن مجاني للطلبات أكثر من 50 دولار',
    'about': 'حول',
    'our_story': 'قصتنا',
    'press_media': 'الصحافة والإعلام',
    'careers': 'الوظائف',
    'sustainability': 'الاستدامة',
    'social_giveback': 'العطاء الاجتماعي',
    'resources': 'الموارد',
    'blog': 'المدونة',
    'dapper_scouts': 'كشافة أنيقة',
    'garment_care': 'العناية بالملابس',
    'fit_size_guide': 'دليل المقاسات',
    'support': 'الدعم',
    'help_center': 'مركز المساعدة',
    'contact_us': 'اتصل بنا',
    'shipping_returns': 'الشحن والإرجاع',
    'start_return_exchange': 'بدء الإرجاع/الاستبدال',
    'add_product': 'منتج',
    'add_collection': 'مجموعة',
    'create_catalog': 'إنشاء كتالوج',
    'create_page': 'إنشاء صفحة',
    'mobile': 'موبايل',
    'publish': 'نشر'
  },
  'Spanish': {
    'welcome_title': 'Bienvenido a tu tienda',
    'subscribe_title': 'Suscríbete a nuestro boletín',
    'subscribe_subtitle': 'Obtén las últimas actualizaciones y ofertas exclusivas',
    'email_placeholder': 'Ingresa tu dirección de correo',
    'subscribe_btn': 'Suscribirse',
    'select_language': 'Seleccionar idioma',
    'store_languages': 'Idiomas de la tienda',
    'language_description': 'Elige los idiomas que mostrará tu tienda. Los clientes pueden cambiar entre estos idiomas usando el ícono de idioma en la barra de la tienda.',
    'save_languages': 'Guardar idiomas',
    'cancel': 'Cancelar',
    'close': 'Cerrar',
    'update': 'Actualizar',
    'logo_settings': 'Configuración del logo',
    'store_pages': 'Páginas de la tienda',
    'home': 'Inicio',
    'product_page': 'Página de producto',
    'collections': 'Colecciones',
    'catalog': 'Catálogo',
    'cart_page': 'Página del carrito',
    'shipping_pay': 'Envío y pago',
    'general_pages': 'Páginas generales',
    'collection_page': 'Página de colección',
    'product_page_detail': 'Detalle de página de producto',
    'catalog_page': 'Página de catálogo',
    'language': 'Idioma',
    'logout': 'Cerrar sesión',
    'free_shipping': 'Envío gratis',
    'free_shipping_description': 'Envío gratis en pedidos superiores a $50',
    'about': 'Acerca de',
    'our_story': 'Nuestra historia',
    'press_media': 'Prensa y medios',
    'careers': 'Carreras',
    'sustainability': 'Sostenibilidad',
    'social_giveback': 'Retribución social',
    'resources': 'Recursos',
    'blog': 'Blog',
    'dapper_scouts': 'Exploradores elegantes',
    'garment_care': 'Cuidado de prendas',
    'fit_size_guide': 'Guía de tallas',
    'support': 'Soporte',
    'help_center': 'Centro de ayuda',
    'contact_us': 'Contáctanos',
    'shipping_returns': 'Envío y devoluciones',
    'start_return_exchange': 'Iniciar devolución o cambio',
    'add_product': 'Producto',
    'add_collection': 'Colección',
    'create_catalog': 'Crear catálogo',
    'create_page': 'Crear página',
    'mobile': 'Móvil',
    'publish': 'Publicar'
  },
  'French': {
    'welcome_title': 'Bienvenue dans votre boutique',
    'subscribe_title': 'Abonnez-vous à notre newsletter',
    'subscribe_subtitle': 'Recevez les dernières mises à jour et offres exclusives',
    'email_placeholder': 'Entrez votre adresse email',
    'subscribe_btn': 'S\'abonner',
    'select_language': 'Sélectionner la langue',
    'store_languages': 'Langues de la boutique',
    'language_description': 'Choisissez les langues que votre boutique affichera. Les clients peuvent basculer entre ces langues en utilisant l\'icône de langue dans la barre de la boutique.',
    'save_languages': 'Enregistrer les langues',
    'cancel': 'Annuler',
    'close': 'Fermer',
    'update': 'Mettre à jour',
    'logo_settings': 'Paramètres du logo',
    'store_pages': 'Pages de la boutique',
    'home': 'Accueil',
    'product_page': 'Page produit',
    'collections': 'Collections',
    'catalog': 'Catalogue',
    'cart_page': 'Page panier',
    'shipping_pay': 'Livraison et paiement',
    'general_pages': 'Pages générales',
    'collection_page': 'Page collection',
    'product_page_detail': 'Détail page produit',
    'catalog_page': 'Page catalogue',
    'language': 'Langue',
    'logout': 'Déconnexion',
    'free_shipping': 'Livraison gratuite',
    'free_shipping_description': 'Livraison gratuite pour les commandes de plus de 50$',
    'about': 'À propos',
    'our_story': 'Notre histoire',
    'press_media': 'Presse et médias',
    'careers': 'Carrières',
    'sustainability': 'Durabilité',
    'social_giveback': 'Redistribution sociale',
    'resources': 'Ressources',
    'blog': 'Blog',
    'dapper_scouts': 'Éclaireurs élégants',
    'garment_care': 'Entretien des vêtements',
    'fit_size_guide': 'Guide des tailles',
    'support': 'Support',
    'help_center': 'Centre d\'aide',
    'contact_us': 'Nous contacter',
    'shipping_returns': 'Livraison et retours',
    'start_return_exchange': 'Commencer un retour ou échange',
    'add_product': 'Produit',
    'add_collection': 'Collection',
    'create_catalog': 'Créer un catalogue',
    'create_page': 'Créer une page',
    'mobile': 'Mobile',
    'publish': 'Publier'
  },
  'German': {
    'welcome_title': 'Willkommen in Ihrem Shop',
    'subscribe_title': 'Abonnieren Sie unseren Newsletter',
    'subscribe_subtitle': 'Erhalten Sie die neuesten Updates und exklusive Angebote',
    'email_placeholder': 'Geben Sie Ihre E-Mail-Adresse ein',
    'subscribe_btn': 'Abonnieren',
    'select_language': 'Sprache auswählen',
    'store_languages': 'Shop-Sprachen',
    'language_description': 'Wählen Sie die Sprachen aus, die Ihr Shop anzeigen wird. Kunden können zwischen diesen Sprachen wechseln, indem sie das Sprachsymbol in der Shop-Leiste verwenden.',
    'save_languages': 'Sprachen speichern',
    'cancel': 'Abbrechen',
    'close': 'Schließen',
    'update': 'Aktualisieren',
    'logo_settings': 'Logo-Einstellungen',
    'store_pages': 'Shop-Seiten',
    'home': 'Startseite',
    'product_page': 'Produktseite',
    'collections': 'Kollektionen',
    'catalog': 'Katalog',
    'cart_page': 'Warenkorb-Seite',
    'shipping_pay': 'Versand und Zahlung',
    'general_pages': 'Allgemeine Seiten',
    'collection_page': 'Kollektion-Seite',
    'product_page_detail': 'Produktseiten-Detail',
    'catalog_page': 'Katalog-Seite',
    'language': 'Sprache',
    'logout': 'Abmelden',
    'free_shipping': 'Kostenloser Versand',
    'free_shipping_description': 'Kostenloser Versand bei Bestellungen über 50$',
    'about': 'Über uns',
    'our_story': 'Unsere Geschichte',
    'press_media': 'Presse und Medien',
    'careers': 'Karrieren',
    'sustainability': 'Nachhaltigkeit',
    'social_giveback': 'Soziale Rückgabe',
    'resources': 'Ressourcen',
    'blog': 'Blog',
    'dapper_scouts': 'Elegante Pfadfinder',
    'garment_care': 'Kleidungsreinigung',
    'fit_size_guide': 'Größenführer',
    'support': 'Support',
    'help_center': 'Hilfezentrum',
    'contact_us': 'Kontaktieren Sie uns',
    'shipping_returns': 'Versand und Rücksendungen',
    'start_return_exchange': 'Rückgabe oder Umtausch starten',
    'add_product': 'Produkt',
    'add_collection': 'Kollektion',
    'create_catalog': 'Katalog erstellen',
    'create_page': 'Seite erstellen',
    'mobile': 'Mobil',
    'publish': 'Veröffentlichen'
  },
  'Portuguese': {
    'welcome_title': 'Bem-vindo à sua loja',
    'subscribe_title': 'Inscreva-se na nossa newsletter',
    'subscribe_subtitle': 'Receba as últimas atualizações e ofertas exclusivas',
    'email_placeholder': 'Digite seu endereço de email',
    'subscribe_btn': 'Inscrever-se',
    'select_language': 'Selecionar idioma',
    'store_languages': 'Idiomas da loja',
    'language_description': 'Escolha os idiomas que sua loja exibirá. Os clientes podem alternar entre esses idiomas usando o ícone de idioma na barra da loja.',
    'save_languages': 'Salvar idiomas',
    'cancel': 'Cancelar',
    'close': 'Fechar',
    'update': 'Atualizar',
    'logo_settings': 'Configurações do logo',
    'store_pages': 'Páginas da loja',
    'home': 'Início',
    'product_page': 'Página do produto',
    'collections': 'Coleções',
    'catalog': 'Catálogo',
    'cart_page': 'Página do carrinho',
    'shipping_pay': 'Envio e pagamento',
    'general_pages': 'Páginas gerais',
    'collection_page': 'Página da coleção',
    'product_page_detail': 'Detalhe da página do produto',
    'catalog_page': 'Página do catálogo',
    'language': 'Idioma',
    'logout': 'Sair',
    'free_shipping': 'Envio grátis',
    'free_shipping_description': 'Envio grátis em pedidos acima de $50',
    'about': 'Sobre',
    'our_story': 'Nossa história',
    'press_media': 'Imprensa e mídia',
    'careers': 'Carreiras',
    'sustainability': 'Sustentabilidade',
    'social_giveback': 'Retribuição social',
    'resources': 'Recursos',
    'blog': 'Blog',
    'dapper_scouts': 'Escoteiros elegantes',
    'garment_care': 'Cuidado com roupas',
    'fit_size_guide': 'Guia de tamanhos',
    'support': 'Suporte',
    'help_center': 'Central de ajuda',
    'contact_us': 'Entre em contato',
    'shipping_returns': 'Envio e devoluções',
    'start_return_exchange': 'Iniciar devolução ou troca',
    'add_product': 'Produto',
    'add_collection': 'Coleção',
    'create_catalog': 'Criar catálogo',
    'create_page': 'Criar página',
    'mobile': 'Móvel',
    'publish': 'Publicar'
  },
  'Turkish': {
    'welcome_title': 'Mağazanıza hoş geldiniz',
    'subscribe_title': 'Bültenimize abone olun',
    'subscribe_subtitle': 'En son güncellemeleri ve özel teklifleri alın',
    'email_placeholder': 'E-posta adresinizi girin',
    'subscribe_btn': 'Abone ol',
    'select_language': 'Dil seçin',
    'store_languages': 'Mağaza dilleri',
    'language_description': 'Mağazanızın göstereceği dilleri seçin. Müşteriler mağaza çubuğundaki dil simgesini kullanarak bu diller arasında geçiş yapabilir.',
    'save_languages': 'Dilleri kaydet',
    'cancel': 'İptal',
    'close': 'Kapat',
    'update': 'Güncelle',
    'logo_settings': 'Logo ayarları',
    'store_pages': 'Mağaza sayfaları',
    'home': 'Ana sayfa',
    'product_page': 'Ürün sayfası',
    'collections': 'Koleksiyonlar',
    'catalog': 'Katalog',
    'cart_page': 'Sepet sayfası',
    'shipping_pay': 'Kargo ve ödeme',
    'general_pages': 'Genel sayfalar',
    'collection_page': 'Koleksiyon sayfası',
    'product_page_detail': 'Ürün sayfası detayı',
    'catalog_page': 'Katalog sayfası',
    'language': 'Dil',
    'logout': 'Çıkış yap',
    'free_shipping': 'Ücretsiz kargo',
    'free_shipping_description': '50$ üzeri siparişlerde ücretsiz kargo',
    'about': 'Hakkında',
    'our_story': 'Hikayemiz',
    'press_media': 'Basın ve medya',
    'careers': 'Kariyer',
    'sustainability': 'Sürdürülebilirlik',
    'social_giveback': 'Sosyal geri verme',
    'resources': 'Kaynaklar',
    'blog': 'Blog',
    'dapper_scouts': 'Şık izciler',
    'garment_care': 'Giyim bakımı',
    'fit_size_guide': 'Beden rehberi',
    'support': 'Destek',
    'help_center': 'Yardım merkezi',
    'contact_us': 'Bize ulaşın',
    'shipping_returns': 'Kargo ve iadeler',
    'start_return_exchange': 'İade veya değişim başlat',
    'add_product': 'Ürün',
    'add_collection': 'Koleksiyon',
    'create_catalog': 'Katalog oluştur',
    'create_page': 'Sayfa oluştur',
    'mobile': 'Mobil',
    'publish': 'Yayınla'
  },
  'Hindi': {
    'welcome_title': 'आपके स्टोर में आपका स्वागत है',
    'subscribe_title': 'हमारे न्यूज़लेटर की सदस्यता लें',
    'subscribe_subtitle': 'नवीनतम अपडेट और विशेष ऑफर प्राप्त करें',
    'email_placeholder': 'अपना ईमेल पता दर्ज करें',
    'subscribe_btn': 'सब्सक्राइब करें',
    'select_language': 'भाषा चुनें',
    'store_languages': 'स्टोर भाषाएं',
    'language_description': 'उन भाषाओं को चुनें जो आपका स्टोर प्रदर्शित करेगा। ग्राहक स्टोर बार में भाषा आइकन का उपयोग करके इन भाषाओं के बीच स्विच कर सकते हैं।',
    'save_languages': 'भाषाएं सहेजें',
    'cancel': 'रद्द करें',
    'close': 'बंद करें',
    'update': 'अपडेट करें',
    'logo_settings': 'लोगो सेटिंग्स',
    'store_pages': 'स्टोर पेज',
    'home': 'होम',
    'product_page': 'उत्पाद पेज',
    'collections': 'कलेक्शन',
    'catalog': 'कैटलॉग',
    'cart_page': 'कार्ट पेज',
    'shipping_pay': 'शिपिंग और भुगतान',
    'general_pages': 'सामान्य पेज',
    'collection_page': 'कलेक्शन पेज',
    'product_page_detail': 'उत्पाद पेज विवरण',
    'catalog_page': 'कैटलॉग पेज',
    'language': 'भाषा',
    'logout': 'लॉग आउट',
    'free_shipping': 'मुफ्त शिपिंग',
    'free_shipping_description': '$50 से अधिक के ऑर्डर पर मुफ्त शिपिंग',
    'about': 'के बारे में',
    'our_story': 'हमारी कहानी',
    'press_media': 'प्रेस और मीडिया',
    'careers': 'करियर',
    'sustainability': 'सस्टेनेबिलिटी',
    'social_giveback': 'सामाजिक वापसी',
    'resources': 'संसाधन',
    'blog': 'ब्लॉग',
    'dapper_scouts': 'सुंदर स्काउट्स',
    'garment_care': 'कपड़ों की देखभाल',
    'fit_size_guide': 'फिट और साइज गाइड',
    'support': 'सहायता',
    'help_center': 'सहायता केंद्र',
    'contact_us': 'संपर्क करें',
    'shipping_returns': 'शिपिंग और रिटर्न',
    'start_return_exchange': 'रिटर्न या एक्सचेंज शुरू करें',
    'add_product': 'उत्पाद',
    'add_collection': 'कलेक्शन',
    'create_catalog': 'कैटलॉग बनाएं',
    'create_page': 'पेज बनाएं',
    'mobile': 'मोबाइल',
    'publish': 'प्रकाशित करें'
  },
  'Italian': {
    'welcome_title': 'Benvenuto nel tuo negozio',
    'subscribe_title': 'Iscriviti alla nostra newsletter',
    'subscribe_subtitle': 'Ricevi gli ultimi aggiornamenti e offerte esclusive',
    'email_placeholder': 'Inserisci il tuo indirizzo email',
    'subscribe_btn': 'Iscriviti',
    'select_language': 'Seleziona lingua',
    'store_languages': 'Lingue del negozio',
    'language_description': 'Scegli le lingue che il tuo negozio mostrerà. I clienti possono passare tra queste lingue usando l\'icona della lingua nella barra del negozio.',
    'save_languages': 'Salva lingue',
    'cancel': 'Annulla',
    'close': 'Chiudi',
    'update': 'Aggiorna',
    'logo_settings': 'Impostazioni logo',
    'store_pages': 'Pagine del negozio',
    'home': 'Home',
    'product_page': 'Pagina prodotto',
    'collections': 'Collezioni',
    'catalog': 'Catalogo',
    'cart_page': 'Pagina carrello',
    'shipping_pay': 'Spedizione e pagamento',
    'general_pages': 'Pagine generali',
    'collection_page': 'Pagina collezione',
    'product_page_detail': 'Dettaglio pagina prodotto',
    'catalog_page': 'Pagina catalogo',
    'language': 'Lingua',
    'logout': 'Disconnetti',
    'free_shipping': 'Spedizione gratuita',
    'free_shipping_description': 'Spedizione gratuita per ordini superiori a $50',
    'about': 'Chi siamo',
    'our_story': 'La nostra storia',
    'press_media': 'Stampa e media',
    'careers': 'Carriere',
    'sustainability': 'Sostenibilità',
    'social_giveback': 'Restituzione sociale',
    'resources': 'Risorse',
    'blog': 'Blog',
    'dapper_scouts': 'Scout eleganti',
    'garment_care': 'Cura degli indumenti',
    'fit_size_guide': 'Guida taglie',
    'support': 'Supporto',
    'help_center': 'Centro assistenza',
    'contact_us': 'Contattaci',
    'shipping_returns': 'Spedizione e resi',
    'start_return_exchange': 'Inizia reso o scambio',
    'add_product': 'Prodotto',
    'add_collection': 'Collezione',
    'create_catalog': 'Crea catalogo',
    'create_page': 'Crea pagina',
    'mobile': 'Mobile',
    'publish': 'Pubblica'
  },
  'Russian': {
    'welcome_title': 'Добро пожаловать в ваш магазин',
    'subscribe_title': 'Подпишитесь на нашу рассылку',
    'subscribe_subtitle': 'Получайте последние обновления и эксклюзивные предложения',
    'email_placeholder': 'Введите ваш email адрес',
    'subscribe_btn': 'Подписаться',
    'select_language': 'Выберите язык',
    'store_languages': 'Языки магазина',
    'language_description': 'Выберите языки, которые будет отображать ваш магазин. Клиенты могут переключаться между этими языками, используя иконку языка в панели магазина.',
    'save_languages': 'Сохранить языки',
    'cancel': 'Отмена',
    'close': 'Закрыть',
    'update': 'Обновить',
    'logo_settings': 'Настройки логотипа',
    'store_pages': 'Страницы магазина',
    'home': 'Главная',
    'product_page': 'Страница товара',
    'collections': 'Коллекции',
    'catalog': 'Каталог',
    'cart_page': 'Страница корзины',
    'shipping_pay': 'Доставка и оплата',
    'general_pages': 'Общие страницы',
    'collection_page': 'Страница коллекции',
    'product_page_detail': 'Детали страницы товара',
    'catalog_page': 'Страница каталога',
    'language': 'Язык',
    'logout': 'Выйти',
    'free_shipping': 'Бесплатная доставка',
    'free_shipping_description': 'Бесплатная доставка для заказов свыше $50',
    'about': 'О нас',
    'our_story': 'Наша история',
    'press_media': 'Пресса и СМИ',
    'careers': 'Карьера',
    'sustainability': 'Устойчивость',
    'social_giveback': 'Социальная отдача',
    'resources': 'Ресурсы',
    'blog': 'Блог',
    'dapper_scouts': 'Элегантные разведчики',
    'garment_care': 'Уход за одеждой',
    'fit_size_guide': 'Руководство по размерам',
    'support': 'Поддержка',
    'help_center': 'Центр помощи',
    'contact_us': 'Связаться с нами',
    'shipping_returns': 'Доставка и возвраты',
    'start_return_exchange': 'Начать возврат или обмен',
    'add_product': 'Товар',
    'add_collection': 'Коллекция',
    'create_catalog': 'Создать каталог',
    'create_page': 'Создать страницу',
    'mobile': 'Мобильный',
    'publish': 'Опубликовать'
  },
  'Japanese': {
    'welcome_title': 'あなたのストアへようこそ',
    'subscribe_title': 'ニュースレターに登録',
    'subscribe_subtitle': '最新のアップデートと限定オファーを受け取る',
    'email_placeholder': 'メールアドレスを入力',
    'subscribe_btn': '登録',
    'select_language': '言語を選択',
    'store_languages': 'ストア言語',
    'language_description': 'ストアが表示する言語を選択してください。顧客はストアバーの言語アイコンを使用してこれらの言語間を切り替えることができます。',
    'save_languages': '言語を保存',
    'cancel': 'キャンセル',
    'close': '閉じる',
    'update': '更新',
    'logo_settings': 'ロゴ設定',
    'store_pages': 'ストアページ',
    'home': 'ホーム',
    'product_page': '商品ページ',
    'collections': 'コレクション',
    'catalog': 'カタログ',
    'cart_page': 'カートページ',
    'shipping_pay': '配送と支払い',
    'general_pages': '一般ページ',
    'collection_page': 'コレクションページ',
    'product_page_detail': '商品ページ詳細',
    'catalog_page': 'カタログページ',
    'language': '言語',
    'logout': 'ログアウト',
    'free_shipping': '無料配送',
    'free_shipping_description': '$50以上の注文で無料配送',
    'about': 'について',
    'our_story': '私たちのストーリー',
    'press_media': 'プレスとメディア',
    'careers': 'キャリア',
    'sustainability': 'サステナビリティ',
    'social_giveback': '社会的還元',
    'resources': 'リソース',
    'blog': 'ブログ',
    'dapper_scouts': 'ダッパースカウト',
    'garment_care': '衣類ケア',
    'fit_size_guide': 'フィットとサイズガイド',
    'support': 'サポート',
    'help_center': 'ヘルプセンター',
    'contact_us': 'お問い合わせ',
    'shipping_returns': '配送と返品',
    'start_return_exchange': '返品または交換を開始',
    'add_product': '商品',
    'add_collection': 'コレクション',
    'create_catalog': 'カタログを作成',
    'create_page': 'ページを作成',
    'mobile': 'モバイル',
    'publish': '公開'
  },
  'Chinese': {
    'welcome_title': '欢迎来到您的商店',
    'subscribe_title': '订阅我们的邮件',
    'subscribe_subtitle': '第一时间了解新系列和独家优惠',
    'email_placeholder': '电子邮件',
    'subscribe_btn': '订阅',
    'select_language': '选择语言',
    'store_languages': '商店语言',
    'language_description': '选择您的商店将显示的语言。客户可以使用商店栏中的语言图标在这些语言之间切换。',
    'save_languages': '保存语言',
    'cancel': '取消',
    'close': '关闭',
    'update': '更新',
    'logo_settings': '标志设置',
    'store_pages': '商店页面',
    'home': '首页',
    'product_page': '产品页面',
    'collections': '系列',
    'catalog': '目录',
    'cart_page': '购物车页面',
    'shipping_pay': '配送和支付',
    'general_pages': '通用页面',
    'collection_page': '系列页面',
    'product_page_detail': '产品页面',
    'catalog_page': '目录页面',
    'language': '语言',
    'logout': '退出登录',
    'free_shipping': '免费配送',
    'free_shipping_description': '订单超过$50免费配送',
    'about': '关于',
    'our_story': '我们的故事',
    'press_media': '新闻媒体',
    'careers': '职业',
    'sustainability': '可持续性',
    'social_giveback': '社会回馈',
    'resources': '资源',
    'blog': '博客',
    'dapper_scouts': '优雅童子军',
    'garment_care': '服装护理',
    'fit_size_guide': '尺码指南',
    'support': '支持',
    'help_center': '帮助中心',
    'contact_us': '联系我们',
    'shipping_returns': '配送和退货',
    'start_return_exchange': '开始退货或换货',
    'add_product': '产品',
    'add_collection': '系列',
    'create_catalog': '创建目录',
    'create_page': '创建页面',
    'mobile': '移动',
    'publish': '发布'
  },
  'Korean': {
    'welcome_title': '스토어에 오신 것을 환영합니다',
    'subscribe_title': '뉴스레터 구독',
    'subscribe_subtitle': '최신 업데이트와 독점 오퍼를 받아보세요',
    'email_placeholder': '이메일 주소를 입력하세요',
    'subscribe_btn': '구독',
    'select_language': '언어 선택',
    'store_languages': '스토어 언어',
    'language_description': '스토어가 표시할 언어를 선택하세요. 고객은 스토어 바의 언어 아이콘을 사용하여 이러한 언어 간에 전환할 수 있습니다.',
    'save_languages': '언어 저장',
    'cancel': '취소',
    'close': '닫기',
    'update': '업데이트',
    'logo_settings': '로고 설정',
    'store_pages': '스토어 페이지',
    'home': '홈',
    'product_page': '제품 페이지',
    'collections': '컬렉션',
    'catalog': '카탈로그',
    'cart_page': '장바구니 페이지',
    'shipping_pay': '배송 및 결제',
    'general_pages': '일반 페이지',
    'collection_page': '컬렉션 페이지',
    'product_page_detail': '제품 페이지 세부사항',
    'catalog_page': '카탈로그 페이지',
    'language': '언어',
    'logout': '로그아웃',
    'free_shipping': '무료 배송',
    'free_shipping_description': '$50 이상 주문 시 무료 배송',
    'about': '소개',
    'our_story': '우리의 이야기',
    'press_media': '언론 및 미디어',
    'careers': '채용',
    'sustainability': '지속가능성',
    'social_giveback': '사회적 환원',
    'resources': '리소스',
    'blog': '블로그',
    'dapper_scouts': '우아한 스카우트',
    'garment_care': '의류 관리',
    'fit_size_guide': '사이즈 가이드',
    'support': '지원',
    'help_center': '도움말 센터',
    'contact_us': '문의하기',
    'shipping_returns': '배송 및 반품',
    'start_return_exchange': '반품 또는 교환 시작',
    'add_product': '제품',
    'add_collection': '컬렉션',
    'create_catalog': '카탈로그 만들기',
    'create_page': '페이지 만들기',
    'mobile': '모바일',
    'publish': '게시'
  }
};

// Translation function
export const t = (key: string, currentLanguage: string = 'English'): string => {
  // Step 1: Try current language directly (for native script names like 'العربية')
  let currentLangTranslations = translations[currentLanguage as keyof typeof translations];
  
  // Step 2: If not found, try mapped language (for English names like 'Arabic')
  if (!currentLangTranslations) {
    const mappedLanguage = languageMapping[currentLanguage] || currentLanguage;
    currentLangTranslations = translations[mappedLanguage as keyof typeof translations];
  }
  
  // Step 3: Fallback to English
  const englishTranslations = translations['English'];
  
  if (currentLangTranslations && currentLangTranslations[key as keyof typeof currentLangTranslations]) {
    return currentLangTranslations[key as keyof typeof currentLangTranslations];
  }
  
  if (englishTranslations && englishTranslations[key as keyof typeof englishTranslations]) {
    return englishTranslations[key as keyof typeof englishTranslations];
  }
  
  // Step 4: Return key if no translation found
  return key;
};

// Translation hook for React components
export const useTranslation = (initialLanguage: string = 'English') => {
  const [currentLanguage, setCurrentLanguage] = useState(initialLanguage);

  // Load saved language from localStorage
  useEffect(() => {
    const savedLanguage = localStorage.getItem('currentLanguage') || 
                         localStorage.getItem('websiteLanguage') || 
                         initialLanguage;
    setCurrentLanguage(savedLanguage);
  }, [initialLanguage]);

  // Listen for language changes from other components
  useEffect(() => {
    const handleLanguageChange = (event: CustomEvent) => {
      const newLanguage = event.detail.language;
      setCurrentLanguage(newLanguage);
      localStorage.setItem('currentLanguage', newLanguage);
      localStorage.setItem('websiteLanguage', newLanguage);
    };

    window.addEventListener('languageChanged', handleLanguageChange as EventListener);
    
    return () => {
      window.removeEventListener('languageChanged', handleLanguageChange as EventListener);
    };
  }, []);

  // Translation function bound to current language
  const translate = (key: string) => t(key, currentLanguage);

  // Change language function
  const changeLanguage = (newLanguage: string) => {
    setCurrentLanguage(newLanguage);
    localStorage.setItem('currentLanguage', newLanguage);
    localStorage.setItem('websiteLanguage', newLanguage);
    
    // Dispatch event for other components
    window.dispatchEvent(new CustomEvent('languageChanged', {
      detail: { language: newLanguage }
    }));
  };

  return {
    t: translate,
    currentLanguage,
    changeLanguage,
    translations,
    languageMapping
  };
};

// Translation context for React components
export interface TranslationContextType {
  t: (key: string) => string;
  currentLanguage: string;
  changeLanguage: (language: string) => void;
  translations: typeof translations;
  languageMapping: typeof languageMapping;
}

export const TranslationContext = React.createContext<TranslationContextType | null>(null);

// Translation provider component
export const TranslationProvider: React.FC<{ children: React.ReactNode; initialLanguage?: string }> = ({ 
  children, 
  initialLanguage = 'English' 
}) => {
  const translation = useTranslation(initialLanguage);

  return (
    <TranslationContext.Provider value={translation}>
      {children}
    </TranslationContext.Provider>
  );
};

// Hook to use translation context
export const useTranslationContext = () => {
  const context = React.useContext(TranslationContext);
  if (!context) {
    throw new Error('useTranslationContext must be used within a TranslationProvider');
  }
  return context;
};

// Translation component for easy integration
const TranslationComponent: React.FC<{ children: React.ReactNode; initialLanguage?: string }> = ({ 
  children, 
  initialLanguage = 'English' 
}) => {
  return (
    <TranslationProvider initialLanguage={initialLanguage}>
      {children}
    </TranslationProvider>
  );
};

export default TranslationComponent;
